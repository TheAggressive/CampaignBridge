@import 'tailwindcss';

@theme {
  --color-primary: #ff6347;
  --color-secondary: #4caf50;
  --cb-maxw: 640px;
  --cb-accent: #35ad45;
  --cb-dark: #222222;
  --cb-status-ok: #35ad45;
  --cb-status-err: #cc2233;
}

@layer components {
  /* Admin UI components (migrated from assets/admin.css) */
  .cb-field {
    @apply mb-3 max-w-[var(--cb-maxw)];
  }
  .cb-input-wide {
    @apply w-full max-w-[var(--cb-maxw)];
  }
  .cb-mapping-title {
    @apply m-0 mb-2;
  }
  .cb-mapping-table {
    @apply max-w-[var(--cb-maxw)];
  }
  #campaignbridge-mapping-body tr.is-active {
    outline: 2px solid var(--cb-accent);
    outline-offset: -2px;
    background: #f8fffb;
  }

  .cb-two-col {
    @apply grid gap-6;
    grid-template-columns: 1fr minmax(320px, 420px);
    align-items: start;
    max-width: 1100px;
  }
  .cb-col-left {
    @apply min-w-0;
  }
  .cb-col-right {
    @apply min-w-0;
    position: sticky;
    top: 84px;
    align-self: start;
  }

  .cb-template-iframe {
    @apply w-full bg-white;
  }

  /* DnD state */
  #campaignbridge-mapping-body select.is-drag-over {
    outline: 2px dashed var(--cb-accent);
    outline-offset: 2px;
    background: #f6fffa;
  }

  #campaignbridge-sections {
    @apply mt-2 mb-4 max-w-[var(--cb-maxw)];
  }
  #campaignbridge-verify-status {
    @apply font-semibold;
  }

  .cb-inline-spinner {
    @apply float-none align-middle mr-1.5;
  }
  .cb-status-ok {
    color: var(--cb-status-ok);
  }
  .cb-status-err {
    color: var(--cb-status-err);
  }

  .cb-label {
    @apply block mb-1.5;
  }
  .cb-hidden {
    @apply hidden;
  }

  .cb-pill {
    @apply inline-block px-2 py-0.5 text-white mr-1.5 rounded-full bg-[var(--cb-accent)];
  }

  .cb-switch {
    @apply inline-flex items-center gap-2 mr-3 mb-2 relative;
  }

  .cb-switch input {
    @apply absolute opacity-0 w-0 h-0;
    pointer-events: none;
    appearance: none;
  }

  .cb-switch .cb-slider {
    @apply relative w-9 h-4 bg-[#cbd5e1] rounded-full;
    transition: background 0.2s ease;
  }
  .cb-switch .cb-slider::after {
    content: '';
    position: absolute;
    top: 2px;
    left: 2px;
    width: 14px;
    height: 14px;
    background: #fff;
    border-radius: 9999px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
    transition: transform 0.2s ease;
  }
  .cb-switch input:checked + .cb-slider {
    background: var(--cb-accent);
  }
  .cb-switch input:checked + .cb-slider::after {
    transform: translateX(18px);
  }
  .cb-switch .cb-switch-label {
    @apply font-medium;
  }

  .cb-switches-box {
    @apply max-h-[280px] overflow-auto border border-[#dcdcde] rounded bg-white p-6 max-w-[var(--cb-maxw)];
  }
  .cb-switches-group {
    @apply mb-6;
  }
  .cb-switches-group:last-child {
    @apply mb-0;
  }
  .cb-switches-group-title {
    @apply font-semibold mb-4;
  }
  .cb-switches-grid {
    @apply grid gap-y-2 gap-x-3;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  }

  .cb-chips {
    @apply mt-2 flex flex-wrap gap-2;
  }
  .cb-chip {
    @apply inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-sm;
    background: #eef2f7;
    border: 1px solid #dce3ee;
  }
  .cb-chip-remove {
    @apply cursor-pointer font-bold;
  }

  .cb-assign-row {
    @apply flex gap-2 items-center;
  }
}
